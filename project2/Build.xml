<xml>

<include name="${HXCPP}/build-tool/BuildCommon.xml"/>

<files id="windows">
  <compilerflag value="-Iinclude"/>
  <file name="windows/SimpleFrame.cpp"/>
  <file name="windows/GDIFont.cpp"/>
</files>

<files id="mac">
  <compilerflag value="-Iinclude"/>
  <compilerflag value="-I../../sdl-static/include/SDL12"/>
  <file name="mac/NSFont.cpp"/>
  <file name="mac/MacBoot.m"/>
</files>

<files id="main">
  <compilerflag value="-Iinclude"/>
  <file name="Test.cpp"/>
</files>

<files id="sdl">
  <compilerflag value="-Iinclude"/>
  <compilerflag value="-I../../sdl-static/include/SDL12"/>
  <file name="sdl/SDLStage.cpp"/>
</files>




<set name="THIRDPARTY_LIBS" value="../../sdl-static/lib/Mac/" if="macos"/>
<set name="THIRDPARTY_LIBS" value="../../sdl-static/lib/Windows/" if="windows"/>
<set name="THIRDPARTY_LIBS" value="../../sdl-static/lib/Linux/" if="linux"/>

<set name="SLIBEXT" value=".lib" if="windows"/>
<set name="SLIBEXT" value=".a" unless="windows"/>


<files id="common">
  <compilerflag value="-Iinclude"/>
  <compilerflag value="-I../../sdl-static/include"/>

  <file name="common/Surface.cpp"/>
  <file name="common/Utils.cpp"/>
  <file name="common/Geom.cpp"/>
  <file name="common/Graphics.cpp"/>
  <file name="common/GraphicsData.cpp"/>
  <file name="common/Matrix.cpp"/>
  <file name="common/CachedExtent.cpp"/>
  <file name="common/TextField.cpp"/>
  <file name="common/Font.cpp"/>
  <file name="common/FreeType.cpp"/>
  <file name="common/TileSheet.cpp"/>
  <file name="common/Display.cpp"/>
  <file name="common/ColorTransform.cpp"/>

  <file name="common/XML/tinystr.cpp"/>
  <file name="common/XML/tinyxml.cpp"/>
  <file name="common/XML/tinyxmlerror.cpp"/>
  <file name="common/XML/tinyxmlparser.cpp"/>

  <file name="internal/PolygonRenderer.cpp"/>
  <file name="internal/AlphaMask.cpp"/>
  <file name="internal/SolidFill.cpp"/>
  <file name="internal/GradientFill.cpp"/>
  <file name="internal/BitmapFill.cpp"/>

  <file name="hardware-none/Stubs.cpp"/>
</files>


<target id="TestWin" output="TestWin" tool="linker" toolid="exe">
  <files id="main"/>
  <files id="common"/>
  <files id="windows" if="windows"/>
  <files id="mac" if="macos"/>
  <files id="sdl" if="macos"/>
  <lib name="${THIRDPARTY_LIBS}libfreetype${SLIBEXT}"/>
  <lib name="${THIRDPARTY_LIBS}libSDL${SLIBEXT}" if="macos"/>

  <vflag name="-framework" value="IOKit" if="apple"/>
  <vflag name="-framework" value="CoreAudio" if="apple"/>
  <vflag name="-framework" value="Carbon" if="apple"/>
  <vflag name="-framework" value="AudioToolbox" if="apple"/>
  <vflag name="-framework" value="AudioUnit" if="apple"/>
  <vflag name="-framework" value="ForceFeedback" if="apple"/>
  <vflag name="-framework" value="Cocoa" if="apple"/>
  <vflag name="-framework" value="OpenGL" if="apple"/>
  <vflag name="-framework" value="QuickTime" if="apple"/>


  <flag value="" if="windows"/>
  <flag value="gdi32.lib" if="windows"/>
  <flag value="opengl32.lib" if="windows"/>
  <outdir name="."/>
</target>



<target id="default">
   <target id="TestWin"/>
</target>


</xml>
